<mapper namespace="com.fintech.repository.mapper.AccountMapper">

    <resultMap id="accountResultMap" type="Account">
        <id property="id" column="id"/>
        <result property="accountName" column="account_name"/>
        <result property="IBAN" column="iban"/>
        <result property="balance" column="balance"/>
        <result property="currency" column="currency"/>
    </resultMap>

    <select id="findByIBAN" resultType="Account">
        SELECT * FROM accounts WHERE IBAN = #{IBAN}
    </select>

    <update id="updateAccount">
        UPDATE accounts SET balance = #{amount} WHERE IBAN = #{IBAN}
    </update>

    <select id="fetchBalance" resultType="java.math.BigDecimal">
        SELECT balance FROM accounts WHERE IBAN = #{IBAN}
    </select>

</mapper>
